<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Isn_pro Store</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }
        
        :root {
            --store-background: url('https://img1.pixhost.to/images/7853/630630381_ochobot.jpg');
        }
        
        body {
            background: linear-gradient(rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0.15)), var(--store-background) center/cover no-repeat fixed;
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
        }

        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(3px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        /* Semua kode dibawah ini TETAP SAMA PERSIS */
        .header-block {
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transform: translateY(-50px);
            opacity: 0;
            animation: slideDown 0.8s ease-out forwards;
            position: relative;
            z-index: 10;
        }

        .profile-pic {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid white;
            transform: scale(0);
            animation: scaleUp 0.6s ease-out 0.4s forwards;
        }
        
        .name {
            color: white;
            font-size: 22px;
            font-weight: 700;
            text-align: center;
            flex-grow: 1;
            transform: translateX(-20px);
            opacity: 0;
            animation: fadeInRight 0.6s ease-out 0.6s forwards;
        }
        
        .menu-icon {
            display: flex;
            flex-direction: column;
            gap: 5px;
            cursor: pointer;
            transform: translateX(20px);
            opacity: 0;
            animation: fadeInLeft 0.6s ease-out 0.8s forwards;
            position: relative;
        }
        
        .menu-line {
            width: 25px;
            height: 3px;
            background-color: white;
            border-radius: 3px;
            transform-origin: center;
        }
        
        .menu-line:nth-child(1) {
            animation: menuLineAnim 0.8s ease-out 1s forwards;
        }
        .menu-line:nth-child(2) {
            animation: menuLineAnim 0.8s ease-out 1.1s forwards;
        }
        .menu-line:nth-child(3) {
            animation: menuLineAnim 0.8s ease-out 1.2s forwards;
        }
        
        /* Cart Counter */
        .cart-counter {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: #ff4757;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            animation: pulse 2s infinite;
            display: none;
        }
        
        /* Cart Menu Indicator */
        .cart-menu-indicator {
            position: absolute;
            right: 20px;
            background-color: #ff4757;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            animation: pulse 2s infinite;
            display: none;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        /* Welcome Section */
        .welcome-section {
            text-align: center;
            margin-bottom: 30px;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.8s ease-out 1s forwards;
        }
        
        .welcome-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            color: #333;
        }
        
        .welcome-subtitle {
            font-size: 16px;
            color: #666;
            margin-bottom: 20px;
        }
        
        /* Button Styles */
        .btn {
            display: inline-block;
            padding: 12px 30px;
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            transform: scale(0);
            animation: scaleUp 0.6s ease-out 1.3s forwards;
        }
        
        .btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }
        
        .btn:active {
            transform: translateY(1px) scale(0.98);
        }
        
        /* About Section */
        .section-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #444;
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease-out 1.4s forwards;
        }
        
        .about-text {
            background-color: rgba(255, 255, 255, 0.85);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease-out 1.5s forwards;
            backdrop-filter: blur(5px);
        }
        
        /* Support Section */
        .support-section {
            margin-bottom: 30px;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease-out 1.6s forwards;
        }
        
        .support-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #444;
            text-align: center;
        }
        
        .support-cards {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }
        
        .support-card {
            background-color: rgba(255, 255, 255, 0.85);
            border-radius: 10px;
            padding: 20px;
            width: 160px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            transform: scale(0);
            backdrop-filter: blur(5px);
        }
        
        .support-card:nth-child(1) {
            animation: scaleUp 0.6s ease-out 1.7s forwards;
        }
        .support-card:nth-child(2) {
            animation: scaleUp 0.6s ease-out 1.8s forwards;
        }
        
        .support-card:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);
        }
        
        .support-icon {
            width: 50px;
            height: 50px;
            margin-bottom: 10px;
        }
        
        .support-name {
            font-weight: 600;
            color: #555;
        }
        
        /* WhatsApp Groups Section */
        .groups-section {
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease-out 1.9s forwards;
        }
        
        .groups-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #444;
        }
        
        .group-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .group-btn {
            padding: 10px 20px;
            background-color: #25D366;
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transform: scale(0);
        }
        
        .group-btn:nth-child(1) {
            animation: scaleUp 0.6s ease-out 2.0s forwards;
        }
        .group-btn:nth-child(2) {
            animation: scaleUp 0.6s ease-out 2.1s forwards;
        }
        .group-btn:nth-child(3) {
            animation: scaleUp 0.6s ease-out 2.2s forwards;
        }
        
        .group-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
            background-color: #128C7E;
        }
        
        .group-btn:active {
            transform: translateY(1px) scale(0.98);
        }
        
        .telegram-btn {
            background-color: #0088cc;
        }
        
        .telegram-btn:hover {
            background-color: #006699;
        }
        
        /* Shopping Section */
        .shopping-section {
            display: none;
            margin-top: 20px;
        }
        
        /* Search Bar */
        .search-container {
            margin-bottom: 20px;
            display: flex;
            justify-content: center;
        }
        
        .search-bar {
            width: 100%;
            max-width: 500px;
            padding: 12px 20px;
            border: none;
            border-radius: 50px;
            background-color: rgba(255, 255, 255, 0.85);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            font-size: 16px;
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }
        
        .search-bar:focus {
            outline: none;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            background-color: rgba(255, 255, 255, 0.95);
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .product-card {
            background-color: rgba(255, 255, 255, 0.85);
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            text-align: center;
            display: flex;
            flex-direction: column;
            opacity: 0;
            transform: translateY(30px);
            position: relative;
            backdrop-filter: blur(5px);
        }
        
        .product-card.animate {
            animation: fadeInUp 0.6s ease-out forwards;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);
        }
        
        .product-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 10px;
            aspect-ratio: 16/9;
        }
        
        .product-name {
            font-weight: 600;
            margin-bottom: 5px;
            color: #444;
            font-size: 1.1rem;
        }

        .product-description {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 15px;
            flex-grow: 1;
        }
        
        .product-btn {
            padding: 8px 15px;
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: auto;
        }
        
        .product-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        /* Price List */
        .price-list {
            display: none;
            margin-top: 15px;
            text-align: left;
            border-top: 1px solid #f0f0f0;
            padding-top: 10px;
        }

        .price-list-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 5px;
            border-bottom: 1px solid #f0f0f0;
        }

        .price-list-item:last-child {
            border-bottom: none;
        }

        .price-list-item span {
            font-size: 14px;
            color: #555;
        }

        .price-list-item .price {
            font-weight: 600;
            color: #6e8efb;
        }

        .buy-now-btn {
            padding: 5px 15px;
            background-color: #25D366;
            color: white;
            border: none;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .buy-now-btn:hover {
            background-color: #128C7E;
        }

        .closed-btn {
            padding: 5px 15px;
            background-color: #ccc;
            color: white;
            border: none;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            cursor: not-allowed;
        }
        
        /* Product Status Badge */
        .product-status {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            color: white;
        }
        
        .status-open {
            background-color: #25D366;
        }
        
        .status-closed {
            background-color: #ff4757;
        }
        
        /* Animations */
        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes fadeInRight {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes fadeInLeft {
            from { transform: translateX(20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes fadeInUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes scaleUp {
            from { transform: scale(0); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        @keyframes menuLineAnim {
            0% { transform: scaleX(0); opacity: 0; }
            50% { transform: scaleX(1.2); opacity: 0.5; }
            100% { transform: scaleX(1); opacity: 1; }
        }
        @keyframes slideInFromRight {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes slideInFromLeft {
            from { transform: translateX(-100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes zoomIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: linear-gradient(135deg, rgba(110, 142, 251, 0.1), rgba(167, 119, 227, 0.1));
            z-index: -1;
            opacity: 0;
            animation: fadeIn 1s ease-out 0.5s forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(20px); }
        }
        
        /* Sidebar Menu */
        .sidebar {
            position: fixed;
            top: 0;
            right: -300px;
            width: 300px;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            transition: right 0.3s ease;
            padding: 20px;
            overflow-y: auto;
            backdrop-filter: blur(10px);
        }
        
        .sidebar.active {
            right: 0;
        }
        
        .sidebar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .sidebar-title {
            font-size: 20px;
            font-weight: 600;
            color: #333;
        }
        
        .close-sidebar {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }
        
        .menu-item {
            display: flex;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #f5f5f5;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }
        
        .menu-item:hover {
            background-color: #f9f9f9;
            padding-left: 10px;
        }
        
        .menu-icon-img {
            width: 24px;
            height: 24px;
            margin-right: 15px;
            object-fit: contain;
        }
        
        .menu-item-text {
            font-size: 16px;
            color: #333;
        }
        
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        /* Purchase Popup */
        .purchase-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            width: 90%;
            max-width: 400px;
            background-color: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            z-index: 1001;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .purchase-popup.active {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
            visibility: visible;
        }
        
        .popup-header {
            margin-bottom: 20px;
            text-align: center;
        }
        
        .popup-title {
            font-size: 20px;
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }
        
        .popup-price {
            font-size: 18px;
            font-weight: 700;
            color: #6e8efb;
            margin-bottom: 15px;
        }
        
        .popup-description {
            font-size: 14px;
            color: #666;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .popup-buttons {
            display: flex;
            gap: 10px;
        }
        
        .popup-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .buy-now-popup {
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            color: white;
        }
        
        .add-to-cart-popup {
            background-color: #f5f5f5;
            color: #333;
        }
        
        .popup-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .popup-btn:active {
            transform: translateY(1px);
        }
        
        /* Cart Items in Sidebar */
        .cart-items {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
        }
        
        .cart-item {
            display: flex;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .cart-item-img {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 8px;
            margin-right: 15px;
        }
        
        .cart-item-details {
            flex: 1;
        }
        
        .cart-item-name {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .cart-item-price {
            font-size: 14px;
            color: #6e8efb;
            font-weight: 600;
        }
        
        .remove-item {
            color: #ff4757;
            font-size: 20px;
            cursor: pointer;
            margin-left: 10px;
        }
        
        .cart-total {
            font-size: 18px;
            font-weight: 600;
            text-align: right;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        
        .checkout-btn {
            display: block;
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.2s ease;
        }
        
        .checkout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .empty-cart {
            text-align: center;
            padding: 30px 0;
            color: #666;
        }
        
        /* Scroll Animation Classes */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease-out;
        }
        
        .animate-on-scroll.animated {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Product Page Transition */
        .page-transition {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.6s ease;
        }
        
        .page-transition.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .transition-logo {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background-color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
            color: #6e8efb;
            transform: scale(0);
            animation: none;
        }
        
        .page-transition.active .transition-logo {
            animation: pulse 1s infinite;
        }

        /* Checkout Popup */
        .checkout-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            background-color: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            z-index: 1001;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .checkout-popup.active {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
            visibility: visible;
        }

        .popup-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .popup-title {
            font-size: 20px;
            font-weight: 600;
            color: #333;
        }

        .close-popup {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
        }

        .payment-methods {
            margin-bottom: 20px;
        }

        .payment-methods h4 {
            font-size: 16px;
            margin-bottom: 15px;
            color: #444;
        }

        .payment-options {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .payment-option {
            flex: 1;
            min-width: 80px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .payment-option.active {
            border-color: #6e8efb;
            background-color: #f5f8ff;
        }

        .payment-option img {
            width: 30px;
            height: 30px;
            object-fit: contain;
            margin-bottom: 5px;
        }

        .payment-option span {
            font-size: 12px;
            color: #555;
        }

        .payment-details {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .qris-payment, .other-payment {
            display: none;
            text-align: center;
        }

        .qris-payment.active, .other-payment.active {
            display: block;
        }

        .qris-code {
            width: 200px;
            height: 200px;
            margin: 10px auto;
            border: 1px solid #eee;
            padding: 10px;
            background-color: white;
        }

        .payment-number {
            font-size: 18px;
            font-weight: 600;
            margin: 10px 0;
            padding: 10px;
            background-color: white;
            border-radius: 5px;
            border: 1px solid #ddd;
        }

        .copy-btn {
            padding: 5px 15px;
            background-color: #6e8efb;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 12px;
            cursor: pointer;
            margin-bottom: 10px;
        }

        .payment-instruction {
            font-size: 12px;
            color: #666;
            margin-top: 10px;
        }

        .buyer-info {
            margin: 20px 0;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            font-size: 14px;
            margin-bottom: 5px;
            color: #555;
        }

        .input-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
        }

        .upload-section {
            margin-top: 20px;
        }

        .upload-section h5 {
            font-size: 16px;
            margin-bottom: 10px;
            color: #444;
        }

        .upload-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 15px;
            background-color: #f0f0f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 10px;
            width: fit-content;
        }

        .upload-btn:hover {
            background-color: #e0e0e0;
        }

        .upload-icon {
            width: 20px;
            height: 20px;
        }

        .file-name {
            font-size: 12px;
            color: #666;
            margin-bottom: 15px;
        }

        .popup-footer {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .send-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .telegram-icon {
            width: 20px;
            height: 20px;
        }

        /* New Cart Item Controls */
        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 5px;
        }
        
        .quantity-btn {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background-color: #f0f0f0;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.2s ease;
        }
        
        .quantity-btn:hover {
            background-color: #e0e0e0;
        }
        
        .quantity-value {
            min-width: 20px;
            text-align: center;
        }
        
        .cart-item-checkbox {
            margin-right: 10px;
        }
        
        .checkout-selection {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }
        
        .select-all {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        
        .selected-count {
            font-size: 14px;
            color: #666;
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 25px;
            border-radius: 50px;
            color: white;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            z-index: 1100;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideInUp 0.3s ease-out forwards;
            max-width: 90%;
            text-align: center;
        }

        .notification.error {
            background: linear-gradient(135deg, #ff4757, #ff6b81);
        }

        .notification.success {
            background: linear-gradient(135deg, #2ed573, #20bf6b);
        }

        .notification.warning {
            background: linear-gradient(135deg, #ffa502, #ff7f50);
        }

        .notification.info {
            background: linear-gradient(135deg, #1e90ff, #3742fa);
        }

        .notification-icon {
            width: 20px;
            height: 20px;
        }

        @keyframes slideInUp {
            from { 
                transform: translateX(-50%) translateY(100px);
                opacity: 0;
            }
            to { 
                transform: translateX(-50%) translateY(0);
                opacity: 1;
            }
        }

        @keyframes slideOutDown {
            from { 
                transform: translateX(-50%) translateY(0);
                opacity: 1;
            }
            to { 
                transform: translateX(-50%) translateY(100px);
                opacity: 0;
            }
        }

        /* Footer Credit */
        .footer-credit {
            text-align: center;
            margin-top: 30px;
            color: #666;
            font-size: 12px;
            padding: 10px;
            opacity: 0.7;
        }
        
        /* No products found message */
        .no-products {
            text-align: center;
            padding: 30px;
            color: #666;
            grid-column: 1 / -1;
            display: none;
        }
    </style>
    <script src="settings.js"></script>
</head>
<body>
    <div class="page-transition" id="pageTransition">
        <div class="transition-logo">Isn_pro</div>
    </div>
    
    <div class="container">
        <div class="header-block">
            <img src="https://img1.pixhost.to/images/7853/630630381_ochobot.jpg" alt="Profile Picture" class="profile-pic" id="storeLogo">
            <div class="name" id="storeName">Isn_pro</div>
            <div class="menu-icon" id="menuIcon">
                <div class="menu-line"></div>
                <div class="menu-line"></div>
                <div class="menu-line"></div>
                <div class="cart-counter" id="cartCounter">0</div>
            </div>
        </div>
        
        <div class="welcome-section">
            <h1 class="welcome-title"><strong id="welcomeTitle">WELCOME DI STORE Isn_pro</strong></h1>
            <p class="welcome-subtitle" id="storeDescription">Kami menjual kebutuhan untuk para JB + HOSTING</p>
            <a href="#" class="btn" id="shopBtn">Mulai Belanja</a>
        </div>
        
        <h2 class="section-title">Tentang kami</h2>
        <div class="about-text" id="aboutText">
            Isn_pro menjual keperluan yang di butuhkan para JB dan HOSTING dengan harga murah, kami juga menjual bahan / keperluan yang di carikan anda.
        </div>
        
        <div class="support-section">
            <h2 class="support-title">Sistem Support</h2>
            <div class="support-cards">
                <div class="support-card" id="whatsappSupport">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" class="support-icon">
                    <div class="support-name">WhatsApp</div>
                    <p class="support-desc">Chat langsung</p>
                </div>
                <div class="support-card" id="telegramSupport">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Telegram" class="support-icon">
                    <div class="support-name">Telegram</div>
                    <p class="support-desc">Pesan cepat</p>
                </div>
            </div>
        </div>
        
        <div class="groups-section">
            <h3 class="groups-title">Other</h3>
            <div class="group-buttons">
                <button class="group-btn" id="whatsappGroupBtn">Group WhatsApp</button>
                <button class="group-btn telegram-btn" id="telegramGroupBtn">Group Telegram</button>
                <button class="group-btn" id="whatsappChannelBtn">Saluran WhatsApp</button>
            </div>
        </div>
        
        <div class="shopping-section" id="shoppingSection">
            <h2 class="section-title" style="animation: none; opacity: 1; transform: none;">Produk Kami</h2>
            <div class="search-container">
                <input type="text" class="search-bar" id="productSearch" placeholder="Cari produk...">
            </div>
            <div class="products-grid" id="productsGrid">
                <!-- Products will be loaded here from settings.js -->
                <div class="no-products" id="noProducts">Tidak ada produk yang ditemukan</div>
            </div>
        </div>

        <!-- YANG GANTI YATIM, UDAH NYOLONG HTML GANTI CREDIT -->
        <!-- Footer Credit -->
        <div class="footer-credit">
            <div>©Isn_pro - 2025</div>
            <div style="font-size: 11px; margin-top: 5px;">Created with ❤️ by Isn_pro Team</div>
        </div>
    </div>
    
    <!-- Sidebar Menu -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-title">Menu</div>
            <button class="close-sidebar" id="closeSidebar">&times;</button>
        </div>
        <div class="menu-item" id="homeMenuItem">
            <img src="https://cdn-icons-png.flaticon.com/512/25/25694.png" alt="Home" class="menu-icon-img">
            <div class="menu-item-text">Beranda</div>
        </div>
        <div class="menu-item" id="cartMenuItem">
            <img src="https://cdn-icons-png.flaticon.com/512/3144/3144456.png" alt="Cart" class="menu-icon-img">
            <div class="menu-item-text">Keranjang Belanja</div>
            <div class="cart-menu-indicator" id="cartMenuIndicator">0</div>
        </div>
        <div class="menu-item" id="faqMenuItem">
            <img src="https://cdn-icons-png.flaticon.com/512/3176/3176272.png" alt="FAQ" class="menu-icon-img">
            <div class="menu-item-text">FAQ & Bantuan</div>
        </div>
    </div>
    
    <!-- Cart Sidebar with Quantity Controls -->
    <div class="sidebar" id="cartSidebar">
        <div class="sidebar-header">
            <div class="sidebar-title">Keranjang Belanja</div>
            <button class="close-sidebar" id="closeCartSidebar">&times;</button>
        </div>
        <div class="cart-items" id="cartItems">
            <div class="empty-cart">Keranjang belanja kosong</div>
        </div>
        <div class="checkout-selection" id="checkoutSelection" style="display: none;">
            <div class="select-all">
                <input type="checkbox" id="selectAllItems">
                <label for="selectAllItems">Pilih Semua</label>
            </div>
            <div class="selected-count" id="selectedCount">0 produk terpilih</div>
        </div>
        <div class="cart-total" id="cartTotal" style="display: none;">
            Total: Rp <span id="totalAmount">0</span>
        </div>
        <button class="checkout-btn" id="checkoutBtn" style="display: none;">Checkout (<span id="checkoutCount">0</span>)</button>
    </div>
    
    <!-- FAQ Sidebar -->
    <div class="sidebar" id="faqSidebar">
        <div class="sidebar-header">
            <div class="sidebar-title">FAQ & Bantuan</div>
            <button class="close-sidebar" id="closeFaqSidebar">&times;</button>
        </div>
        <div class="about-text" style="margin: 0; box-shadow: none;">
            <h3 style="margin-bottom: 10px;">Pertanyaan Umum</h3>
            <p><strong>Q: Bagaimana cara memesan produk?</strong><br>
            A: Klik tombol "Beli" pada produk yang diinginkan, lalu pilih "Beli Sekarang" atau "Masukkan Keranjang".</p>
            
            <p><strong>Q: Apa metode pembayaran yang tersedia?</strong><br>
            A: Kami menerima transfer bank, e-wallet (Shopeepay, Dana, Gopay), dan Qris all pay.</p>
            
            <p><strong>Q: Berapa lama proses pengiriman?</strong><br>
            A: Produk digital dikirim segera setelah pembayaran dikonfirmasi.</p>
            
            <p><strong>Q: Apakah ada garansi?</strong><br>
            A: Ya, semua produk kami memiliki garansi, uang kembali jika tidak sesuai deskripsi.</p>
            
            <p style="margin-top: 20px;">Untuk pertanyaan lain, hubungi kami melalui WhatsApp atau Telegram di bagian Support.</p>
        </div>
    </div>
    
    <div class="overlay" id="overlay"></div>
    
    <!-- Purchase Popup -->
    <div class="purchase-popup" id="purchasePopup">
        <div class="popup-header">
            <h3 class="popup-title" id="popupProductName">Product Name</h3>
            <div class="popup-price" id="popupProductPrice">Rp 0</div>
            <p class="popup-description" id="popupProductVariant">Variant description</p>
        </div>
        <div class="popup-buttons">
            <button class="popup-btn buy-now-popup" id="buyNowBtn">Beli Sekarang</button>
            <button class="popup-btn add-to-cart-popup" id="addToCartBtn">Masukkan Keranjang</button>
        </div>
    </div>

    <!-- Checkout Popup -->
    <div class="checkout-popup" id="checkoutPopup">
        <div class="popup-header">
            <h3 class="popup-title">Checkout</h3>
            <button class="close-popup" id="closeCheckoutPopup">&times;</button>
        </div>
        <div class="popup-content">
            <div class="payment-methods">
                <h4>Pilih Metode Pembayaran</h4>
                <div class="payment-options">
                    <div class="payment-option active" data-method="qris">
                        <img src="https://img1.pixhost.to/images/7856/630655379_ochobot.jpg" alt="QRIS">
                        <span>QRIS</span>
                    </div>
                    <div class="payment-option" data-method="dana">
                        <img src="https://img1.pixhost.to/images/7856/630655368_ochobot.jpg" alt="DANA">
                        <span>DANA</span>
                    </div>
                    <div class="payment-option" data-method="gopay">
                        <img src="https://img1.pixhost.to/images/7856/630655231_ochobot.jpg" alt="Gopay">
                        <span>Gopay</span>
                    </div>
                    <div class="payment-option" data-method="shopeepay">
                        <img src="https://img1.pixhost.to/images/7856/630655227_ochobot.jpg" alt="ShopeePay">
                        <span>ShopeePay</span>
                    </div>
                </div>
                
                <div class="payment-details" id="paymentDetails">
                    <div class="qris-payment active">
                        <h5>Scan QR Code berikut:</h5>
                        <img src="https://via.placeholder.com/300x300?text=QRIS+Payment" alt="QRIS Code" class="qris-code" id="qrisCode">
                        <p class="payment-instruction">Scan Qris di atas untuk melakukan pembayaran dengan cara zoom</p>
                    </div>
                    
                    <div class="other-payment">
                        <h5>Nomor Pembayaran:</h5>
                        <div class="payment-number" id="paymentNumber">1234567890</div>
                        <button class="copy-btn" id="copyPaymentNumber">Salin</button>
                        <p class="payment-instruction">Gunakan nomor di atas untuk melakukan pembayaran</p>
                    </div>
                </div>
                
                <div class="buyer-info">
                    <h5>Informasi Pembeli</h5>
                    <div class="input-group">
                        <label for="whatsappNumber">Nomor WhatsApp:</label>
                        <input type="text" id="whatsappNumber" placeholder="Contoh: 08988685425">
                    </div>
                    <div class="input-group">
                        <label for="whatsappGroup">Group WhatsApp (jika tidak menyewa bot, isi 0):</label>
                        <input type="text" id="whatsappGroup" placeholder="Contoh: https://chat.whatsapp.com/... atau 0">
                    </div>
                </div>
                
                <div class="upload-section">
                    <h5>Upload Bukti Pembayaran</h5>
                    <input type="file" id="paymentProof" accept="image/*" style="display: none;">
                    <label for="paymentProof" class="upload-btn">
                        <img src="https://cdn-icons-png.flaticon.com/512/2921/2921222.png" alt="Upload" class="upload-icon">
                        <span>Pilih File</span>
                    </label>
                    <div class="file-name" id="fileName">Belum ada file dipilih</div>
                </div>
            </div>
        </div>
        <div class="popup-footer">
            <button class="popup-btn send-btn" id="sendOrderBtn">
                <img src="https://cdn-icons-png.flaticon.com/512/5962/5962463.png" alt="Telegram" class="telegram-icon">
                Kirim ke seller
            </button>
        </div>
    </div>

    <script>
        // A flag to determine the checkout flow
        let isBuyNowFlow = false;
        let selectedItems = [];
        let selectAllCheckbox = null;
        
        // Initialize store settings
        document.addEventListener('DOMContentLoaded', function() {
            // Set store information from settings
            document.getElementById('storeName').textContent = storeSettings.storeName;
            document.getElementById('storeLogo').src = storeSettings.storeLogo;
            document.getElementById('welcomeTitle').textContent = `WELCOME DI STORE ${storeSettings.storeName}`;
            document.getElementById('storeDescription').textContent = storeSettings.storeDescription;
            document.getElementById('aboutText').textContent = storeSettings.aboutText;
            
            // Set background image from settings
            document.documentElement.style.setProperty('--store-background', `url('${storeSettings.backgroundImage}')`);
            
            // Set support links
            document.getElementById('whatsappSupport').addEventListener('click', function() {
                window.open(`https://wa.me/${storeSettings.whatsappNumber}`, '_blank');
            });
            
            document.getElementById('telegramSupport').addEventListener('click', function() {
                window.open(`https://t.me/${storeSettings.telegramUsername}`, '_blank');
            });
            
            // Set group links
            document.getElementById('whatsappGroupBtn').addEventListener('click', function() {
                window.open(storeSettings.whatsappGroupLink, '_blank');
            });
            
            document.getElementById('telegramGroupBtn').addEventListener('click', function() {
                window.open(storeSettings.telegramGroupLink, '_blank');
            });
            
            document.getElementById('whatsappChannelBtn').addEventListener('click', function() {
                window.open(storeSettings.whatsappChannelLink, '_blank');
            });
            
            // Set QRIS image
            document.getElementById('qrisCode').src = storeSettings.qrisImage;
            
            // Load products from settings
            loadProducts();
            
            // Initialize search functionality
            document.getElementById('productSearch').addEventListener('input', function() {
                filterProducts(this.value.toLowerCase());
            });
        });

        // Function to load products
        function loadProducts() {
            const productsGrid = document.getElementById('productsGrid');
            productsGrid.innerHTML = ''; // Clear existing products
            
            storeSettings.products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card animate-on-scroll';
                
                let priceListItems = '';
                product.variants.forEach(variant => {
                    if (product.status === 'open') {
                        priceListItems += `
                            <div class="price-list-item">
                                <span>${variant.name} <span class="price">Rp ${variant.price.toLocaleString()}</span></span>
                                <button class="buy-now-btn" data-product="${product.name}" data-variant="${variant.name}" data-price="${variant.price}" data-status="${product.status}">Beli</button>
                            </div>
                        `;
                    } else {
                        priceListItems += `
                            <div class="price-list-item">
                                <span>${variant.name} <span class="price">Rp ${variant.price.toLocaleString()}</span></span>
                                <span class="closed-btn">Closed</span>
                            </div>
                        `;
                    }
                });
                
                // Determine which image to use based on product status
                const productImage = product.status === 'open' ? 
                    (product.imageOpen || product.image) : 
                    (product.imageClosed || product.image);
                
                // Add status badge
                const statusBadge = product.status === 'open' ? 
                    `<div class="product-status status-open">${storeSettings.openText || 'OPEN'}</div>` : 
                    `<div class="product-status status-closed">${storeSettings.closedText || 'CLOSED'}</div>`;
                
                productCard.innerHTML = `
                    ${statusBadge}
                    <img src="${productImage}" alt="${product.name}" class="product-image">
                    <h3 class="product-name">${product.name}</h3>
                    <p class="product-description">${product.description}</p>
                    <button class="product-btn toggle-price-list-btn">Lihat Daftar Harga</button>
                    <div class="price-list">
                        ${priceListItems}
                    </div>
                `;
                
                productsGrid.appendChild(productCard);
            });
            
            // Add no products message
            const noProducts = document.createElement('div');
            noProducts.className = 'no-products';
            noProducts.id = 'noProducts';
            noProducts.textContent = 'Tidak ada produk yang ditemukan';
            productsGrid.appendChild(noProducts);
            
            // Initialize animations for dynamically loaded products
            setTimeout(() => {
                animateOnScroll();
                filterProducts(''); // Show all products initially
            }, 500);
        }

        // Function to filter products based on search query
        function filterProducts(query) {
            const productCards = document.querySelectorAll('.product-card');
            const noProducts = document.getElementById('noProducts');
            let visibleCount = 0;
            
            productCards.forEach(card => {
                const productName = card.querySelector('.product-name').textContent.toLowerCase();
                
                if (productName.includes(query)) {
                    card.style.display = '';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });
            
            // Show/hide no products message
            noProducts.style.display = visibleCount === 0 ? 'block' : 'none';
        }
        
        // Shopping cart functionality
        let cart = [];
        const cartCounter = document.getElementById('cartCounter');
        const cartMenuIndicator = document.getElementById('cartMenuIndicator');
        
        // Update cart counter
        function updateCartCounter() {
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCounter.textContent = totalItems;
            cartMenuIndicator.textContent = totalItems;
            
            if (totalItems > 0) {
                cartCounter.style.display = 'flex';
                cartMenuIndicator.style.display = 'flex';
            } else {
                cartCounter.style.display = 'none';
                cartMenuIndicator.style.display = 'none';
            }
        }
        
        // Add to cart function
        function addToCart(product, variant, price, image) {
            // Cari produk di settings untuk memeriksa status
            const productData = storeSettings.products.find(p => p.name === product);
            
            if (productData && productData.status === 'closed') {
                showNotification('Produk ini sedang tidak tersedia / closed', 'error');
                return;
            }
            
            const existingItem = cart.find(item => 
                item.product === product && item.variant === variant
            );
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    product,
                    variant,
                    price,
                    image,
                    quantity: 1
                });
            }
            
            updateCartCounter();
            updateCartDisplay();
            showNotification(`${product} (${variant}) ditambahkan ke keranjang`, 'success');
        }
        
        // Remove from cart function
        function removeFromCart(index) {
            cart.splice(index, 1);
            // Remove from selected items if it was there
            selectedItems = selectedItems.filter(i => i !== index);
            updateCartCounter();
            updateCartDisplay();
        }
        
        // Update cart display in sidebar
        function updateCartDisplay() {
            const cartItemsContainer = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            const checkoutBtn = document.getElementById('checkoutBtn');
            const checkoutSelection = document.getElementById('checkoutSelection');
            const emptyCart = cart.length === 0;

            if (emptyCart) {
                cartItemsContainer.innerHTML = '<div class="empty-cart">Keranjang belanja kosong</div>';
                cartTotal.style.display = 'none';
                checkoutBtn.style.display = 'none';
                checkoutSelection.style.display = 'none';
                return;
            }

            cartItemsContainer.innerHTML = '';
            
            let totalAmount = 0;
            let selectedAmount = 0;
            let selectedCount = 0;

            cart.forEach((item, index) => {
                totalAmount += item.price * item.quantity;
                
                // Check if this item was previously selected
                const isSelected = selectedItems.includes(index);
                if (isSelected) {
                    selectedAmount += item.price * item.quantity;
                    selectedCount++;
                }

                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <input type="checkbox" class="cart-item-checkbox" data-index="${index}" ${isSelected ? 'checked' : ''}>
                    <img src="${item.image}" alt="${item.product}" class="cart-item-img">
                    <div class="cart-item-details">
                        <div class="cart-item-name">${item.product}</div>
                        <div class="cart-item-variant">${item.variant}</div>
                        <div class="cart-item-price">Rp ${item.price.toLocaleString()}</div>
                        <div class="cart-item-controls">
                            <button class="quantity-btn minus-btn" data-index="${index}">-</button>
                            <span class="quantity-value">${item.quantity}</span>
                            <button class="quantity-btn plus-btn" data-index="${index}">+</button>
                        </div>
                    </div>
                    <div class="remove-item" data-index="${index}">&times;</div>
                `;
                
                cartItemsContainer.appendChild(cartItem);
            });

            // Update totals
            document.getElementById('totalAmount').textContent = totalAmount.toLocaleString();
            document.getElementById('selectedCount').textContent = `${selectedCount} produk terpilih`;
            document.getElementById('checkoutCount').textContent = selectedCount;
            
            // Show/hide elements
            cartTotal.style.display = 'block';
            checkoutSelection.style.display = 'flex';
            checkoutBtn.style.display = selectedCount > 0 ? 'block' : 'none';
            
            // Initialize select all checkbox
            selectAllCheckbox = document.getElementById('selectAllItems');
            selectAllCheckbox.checked = selectedCount === cart.length && cart.length > 0;
            
            // Add event listeners
            document.querySelectorAll('.cart-item-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    if (this.checked) {
                        if (!selectedItems.includes(index)) {
                            selectedItems.push(index);
                        }
                    } else {
                        selectedItems = selectedItems.filter(i => i !== index);
                    }
                    updateCartDisplay();
                });
            });
            
            document.querySelectorAll('.minus-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    if (cart[index].quantity > 1) {
                        cart[index].quantity--;
                        updateCartDisplay();
                    }
                });
            });
            
            document.querySelectorAll('.plus-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    cart[index].quantity++;
                    updateCartDisplay();
                });
            });
            
            document.querySelectorAll('.remove-item').forEach(button => {
                button.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    removeFromCart(index);
                });
            });
            
            // Select all functionality
            if (selectAllCheckbox) {
                selectAllCheckbox.addEventListener('change', function() {
                    if (this.checked) {
                        selectedItems = [...Array(cart.length).keys()];
                    } else {
                        selectedItems = [];
                    }
                    updateCartDisplay();
                });
            }
        }
        
        // Show notification with different types
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            // Add icon based on type
            let iconSrc = '';
            switch(type) {
                case 'error':
                    iconSrc = 'https://cdn-icons-png.flaticon.com/512/1828/1828843.png';
                    break;
                case 'success':
                    iconSrc = 'https://cdn-icons-png.flaticon.com/512/190/190411.png';
                    break;
                case 'warning':
                    iconSrc = 'https://cdn-icons-png.flaticon.com/512/3524/3524659.png';
                    break;
                default:
                    iconSrc = 'https://cdn-icons-png.flaticon.com/512/157/157933.png';
            }
            
            notification.innerHTML = `
                <img src="${iconSrc}" alt="${type}" class="notification-icon">
                <span>${message}</span>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOutDown 0.3s ease-out forwards';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
        
        // Sidebar functionality
        const menuIcon = document.getElementById('menuIcon');
        const sidebar = document.getElementById('sidebar');
        const cartSidebar = document.getElementById('cartSidebar');
        const faqSidebar = document.getElementById('faqSidebar');
        const overlay = document.getElementById('overlay');
        const closeSidebar = document.getElementById('closeSidebar');
        const closeCartSidebar = document.getElementById('closeCartSidebar');
        const closeFaqSidebar = document.getElementById('closeFaqSidebar');
        const homeMenuItem = document.getElementById('homeMenuItem');
        const cartMenuItem = document.getElementById('cartMenuItem');
        const faqMenuItem = document.getElementById('faqMenuItem');
        
        // Toggle sidebar
        menuIcon.addEventListener('click', function() {
            sidebar.classList.add('active');
            overlay.classList.add('active');
        });
        
        // Close sidebar
        function closeAllSidebars() {
            sidebar.classList.remove('active');
            cartSidebar.classList.remove('active');
            faqSidebar.classList.remove('active');
            overlay.classList.remove('active');
        }
        
        closeSidebar.addEventListener('click', closeAllSidebars);
        closeCartSidebar.addEventListener('click', closeAllSidebars);
        closeFaqSidebar.addEventListener('click', closeAllSidebars);
        overlay.addEventListener('click', closeAllSidebars);
        
        // Fungsi untuk kembali ke beranda dengan animasi
        function goToHomeWithAnimation() {
            const sectionsToShow = [
                document.querySelector('.welcome-section'), 
                document.querySelector('.about-text'), 
                document.querySelector('.support-section'), 
                document.querySelector('.groups-section'), 
                document.querySelector('.section-title')
            ];
            
            // Sembunyikan shopping section terlebih dahulu
            document.getElementById('shoppingSection').style.display = 'none';
            
            // Tampilkan semua section beranda dengan animasi
            sectionsToShow.forEach((sec, index) => {
                if (sec) {
                    sec.style.display = '';
                    sec.style.animation = 'none';
                    sec.style.opacity = '0';
                    sec.style.transform = 'translateY(20px)';
                    
                    // Trigger reflow
                    void sec.offsetHeight;
                    
                    // Terapkan animasi dengan delay berbeda
                    sec.style.animation = `fadeInUp 0.6s ease-out ${0.5 + (index * 0.1)}s forwards`;
                }
            });
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
            closeAllSidebars();
        }
        
        // Menu item clicks
        homeMenuItem.addEventListener('click', goToHomeWithAnimation);
        
        cartMenuItem.addEventListener('click', function() {
            sidebar.classList.remove('active');
            cartSidebar.classList.add('active');
        });
        
        faqMenuItem.addEventListener('click', function() {
            sidebar.classList.remove('active');
            faqSidebar.classList.add('active');
        });
        
        // Purchase popup functionality
        const purchasePopup = document.getElementById('purchasePopup');
        const popupProductName = document.getElementById('popupProductName');
        const popupProductPrice = document.getElementById('popupProductPrice');
        const popupProductVariant = document.getElementById('popupProductVariant');
        const buyNowBtn = document.getElementById('buyNowBtn');
        const addToCartBtn = document.getElementById('addToCartBtn');
        
        let currentProduct = null;
        let currentVariant = null;
        let currentPrice = null;
        let currentImage = null;
        
        // Show purchase popup
        function showPurchasePopup(product, variant, price, image) {
            currentProduct = product;
            currentVariant = variant;
            currentPrice = price;
            currentImage = image;
            
            popupProductName.textContent = product;
            popupProductPrice.textContent = `Rp ${price.toLocaleString()}`;
            popupProductVariant.textContent = variant;
            
            purchasePopup.classList.add('active');
            overlay.classList.add('active');
        }
        
        // Close purchase popup
        function closePurchasePopup() {
            purchasePopup.classList.remove('active');
            if (!checkoutPopup.classList.contains('active')) {
                overlay.classList.remove('active');
            }
        }
        
        // Buy now button click
        buyNowBtn.addEventListener('click', function() {
            isBuyNowFlow = true; // Set flag for "Buy Now"
            closePurchasePopup();
            showCheckoutPopup();
        });
        
        // Add to cart button click
        addToCartBtn.addEventListener('click', function() {
            addToCart(currentProduct, currentVariant, currentPrice, currentImage);
            closePurchasePopup();
        });
        
        // Overlay click to close popup
        overlay.addEventListener('click', function() {
            if (purchasePopup.classList.contains('active')) {
                closePurchasePopup();
            }
        });
        
        // Add event listeners to all buy buttons
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('buy-now-btn')) {
                const status = e.target.getAttribute('data-status');
                
                // Check if product is closed
                if (status === 'closed') {
                    showNotification('Produk ini sedang tidak tersedia / closed', 'error');
                    return;
                }
                
                const product = e.target.getAttribute('data-product');
                const variant = e.target.getAttribute('data-variant');
                const price = parseInt(e.target.getAttribute('data-price'));
                const productCard = e.target.closest('.product-card');
                const image = productCard.querySelector('.product-image').src;
                
                showPurchasePopup(product, variant, price, image);
            }
        });
        
        // Checkout functionality
        const checkoutPopup = document.getElementById('checkoutPopup');
        const closeCheckoutPopup = document.getElementById('closeCheckoutPopup');
        const paymentOptions = document.querySelectorAll('.payment-option');
        const paymentDetails = document.getElementById('paymentDetails');
        const paymentNumber = document.getElementById('paymentNumber');
        const copyPaymentNumber = document.getElementById('copyPaymentNumber');
        const paymentProof = document.getElementById('paymentProof');
        const fileName = document.getElementById('fileName');
        const whatsappNumber = document.getElementById('whatsappNumber');
        const whatsappGroup = document.getElementById('whatsappGroup');
        const sendOrderBtn = document.getElementById('sendOrderBtn');
        const qrisCode = document.getElementById('qrisCode');
        
        // Show checkout popup
        function showCheckoutPopup() {
            checkoutPopup.classList.add('active');
            overlay.classList.add('active');
        }
        
        // Close checkout popup
        function closeCheckoutPopupFunc() {
            checkoutPopup.classList.remove('active');
            overlay.classList.remove('active');
        }
        
        // Payment method selection
        paymentOptions.forEach(option => {
            option.addEventListener('click', function() {
                paymentOptions.forEach(opt => opt.classList.remove('active'));
                this.classList.add('active');
                
                const method = this.getAttribute('data-method');
                document.querySelectorAll('.payment-details > div').forEach(detail => {
                    detail.classList.remove('active');
                });
                
                if (method === 'qris') {
                    document.querySelector('.qris-payment').classList.add('active');
                    paymentNumber.textContent = '';
                } else {
                    document.querySelector('.other-payment').classList.add('active');
                    switch(method) {
                        case 'dana': paymentNumber.textContent = storeSettings.danaNumber; break;
                        case 'gopay': paymentNumber.textContent = storeSettings.gopayNumber; break;
                        case 'shopeepay': paymentNumber.textContent = storeSettings.shopeepayNumber; break;
                    }
                }
            });
        });
        
        // Copy payment number
        copyPaymentNumber.addEventListener('click', function() {
            navigator.clipboard.writeText(paymentNumber.textContent).then(() => {
                showNotification('Nomor pembayaran berhasil disalin', 'success');
            });
        });
        
        // File upload display
        paymentProof.addEventListener('change', function() {
            fileName.textContent = this.files && this.files[0] ? this.files[0].name : 'Belum ada file dipilih';
        });

        // Helper to send message and photo to Telegram
        async function sendTelegramMessage(message, file) {
            try {
                if (file) {
                    const formData = new FormData();
                    formData.append('chat_id', storeSettings.chatId);
                    formData.append('photo', file);
                    formData.append('caption', 'Bukti Pembayaran');
                    await fetch(`https://api.telegram.org/bot${storeSettings.botToken}/sendPhoto`, {
                        method: 'POST',
                        body: formData
                    });
                }
                
                const textResponse = await fetch(`https://api.telegram.org/bot${storeSettings.botToken}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: storeSettings.chatId,
                        text: message
                    })
                });
                
                const textResult = await textResponse.json();
                return textResult.ok;
            } catch (error) {
                console.error('Error sending to Telegram:', error);
                throw new Error('Gagal mengirim pesan ke Telegram');
            }
        }

        // Function to handle "Beli Sekarang" submission
        async function handleBuyNowSubmission(paymentMethod, waNumber, waGroup, file) {
            const buyerInfo = `${waNumber || 'Tidak ada'}${waGroup && waGroup.trim() !== '0' ? ' (' + waGroup + ')' : ''}`;
            let message = `😜𝗡𝗼𝘁𝗶𝗳𝗶𝗸𝗮𝘀𝗶 𝗡𝗶𝗰𝗵 𝗢𝗿𝗱𝗲𝗿𝗮𝗻 𝗠𝗮𝘀𝘂𝗸😜\n\n` +
                          `📦 𝗗𝗮𝗳𝘁𝗮𝗿 𝗣𝗿𝗼𝗱𝘂𝗸 📦\n` +
                          `"${currentProduct}"\n` +
                          `"${currentVariant}"\n` +
                          `"Rp ${currentPrice.toLocaleString()}"\n\n` +
                          `💵 𝗧𝗼𝘁𝗮𝗹 : "Rp ${currentPrice.toLocaleString()}"\n` +
                          `💳 𝗣𝗮𝘆𝗺𝗲𝗻𝘁 : "${paymentMethod.toUpperCase()}"\n` +
                          `😈 𝗡𝗼/𝗚𝗿𝗼𝘂𝗽 𝗕𝘂𝘆𝗲𝗿 : "${buyerInfo}"\n\n` +
                          `𝗦𝗘𝗟𝗘𝗦𝗔𝗜𝗡 𝗢𝗥𝗗𝗘𝗥𝗔𝗡 𝗕𝗨𝗬𝗘𝗿 𝗟𝗨 𝗪𝗢𝗜!!`;
            return await sendTelegramMessage(message, file);
        }
        
        // Function to handle "Checkout from Cart" submission
        async function handleCartCheckoutSubmission(paymentMethod, waNumber, waGroup, file) {
            let productList = '';
            let totalAmount = 0;
            let selectedProducts = [];

            // Get only selected items
            selectedItems.forEach(index => {
                const item = cart[index];
                selectedProducts.push(item);
            });

            selectedProducts.forEach(item => {
                productList += `"${item.product}"\n`;
                productList += `"${item.variant}"\n`;
                productList += `"Rp ${item.price.toLocaleString()}" "x ${item.quantity}"\n\n`;
                totalAmount += item.price * item.quantity;
            });

            const buyerInfo = `${waNumber || 'Tidak ada'}${waGroup && waGroup.trim() !== '0' ? ' (' + waGroup + ')' : ''}`;
            let message = `😜𝗡𝗼𝘁𝗶𝗳𝗶𝗸𝗮𝘀𝗶 𝗡𝗶𝗰𝗵 𝗢𝗿𝗱𝗲𝗿𝗮𝗻 𝗠𝗮𝘀𝘂𝗸😜\n\n` +
                          `📦 𝗗𝗮𝗳𝘁𝗮𝗿 𝗣𝗿𝗼𝗱𝘂𝗸 📦\n` +
                          `${productList}` +
                          `💵 𝗧𝗼𝘁𝗮𝗹 : "Rp ${totalAmount.toLocaleString()}"\n` +
                          `💳 𝗣𝗮𝘆𝗺𝗲𝗻𝘁 : "${paymentMethod.toUpperCase()}"\n` +
                          `😈 𝗡𝗼/𝗚𝗿𝗼𝘂𝗽 𝗕𝘂𝘆𝗲𝗿 : "${buyerInfo}"\n\n` +
                          `𝗦𝗘𝗟𝗘𝗦𝗔𝗜𝗡 𝗢𝗥𝗗𝗘𝗥𝗔𝗡 𝗕𝗨𝗬𝗘𝗿 𝗟𝗨 𝗪𝗢𝗜!!`;

            const success = await sendTelegramMessage(message, file);
            if (success) {
                // Remove only the selected items from cart
                cart = cart.filter((_, index) => !selectedItems.includes(index));
                selectedItems = []; // Reset selected items
                updateCartCounter();
                updateCartDisplay();
            }
            return success;
        }

        // Send order via Telegram
        sendOrderBtn.addEventListener('click', async function() {
            const paymentMethod = document.querySelector('.payment-option.active').getAttribute('data-method');
            const whatsappNum = whatsappNumber.value;
            const whatsappGrp = whatsappGroup.value;
            const file = paymentProof.files[0];
            
            if (!file) {
                showNotification('Harap upload bukti pembayaran', 'error');
                return;
            }
            if (!whatsappNum) {
                showNotification('Harap masukkan nomor WhatsApp', 'error');
                return;
            }
            
            const originalText = this.innerHTML;
            this.innerHTML = '<span>Mengirim...</span>';
            this.disabled = true;
            
            try {
                let success = false;
                if (isBuyNowFlow) {
                    success = await handleBuyNowSubmission(paymentMethod, whatsappNum, whatsappGrp, file);
                } else {
                    if (selectedItems.length < 2) {
                        showNotification('Pilih minimal 2 produk untuk checkout', 'warning');
                        this.innerHTML = originalText;
                        this.disabled = false;
                        return;
                    }
                    success = await handleCartCheckoutSubmission(paymentMethod, whatsappNum, whatsappGrp, file);
                }
                
                if (success) {
                    showNotification('Pesanan berhasil dikirim, tolong tunggu sebentar', 'success');
                    closeCheckoutPopupFunc();
                    
                    // Reset form
                    paymentProof.value = '';
                    fileName.textContent = 'Belum ada file dipilih';
                    whatsappNumber.value = '';
                    whatsappGroup.value = '';
                    
                    // Reset current product data if it was a "Buy Now" flow
                    if (isBuyNowFlow) {
                        currentProduct = null;
                        currentVariant = null;
                        currentPrice = null;
                        currentImage = null;
                    }
                } else {
                    showNotification('Gagal mengirim pesanan. Silakan coba lagi.', 'error');
                }
            } catch (error) {
                showNotification('Terjadi kesalahan: ' + error.message, 'error');
            } finally {
                this.innerHTML = originalText;
                this.disabled = false;
            }
        });
        
        // Close checkout popup
        closeCheckoutPopup.addEventListener('click', closeCheckoutPopupFunc);
        overlay.addEventListener('click', function() {
            if (checkoutPopup.classList.contains('active')) {
                closeCheckoutPopupFunc();
            }
        });
        
        // Checkout button from cart sidebar
        document.getElementById('checkoutBtn').addEventListener('click', function() {
            if (selectedItems.length < 2) {
                showNotification('Pilih minimal 2 produk untuk checkout', 'warning');
                return;
            }
            isBuyNowFlow = false; // Set flag for "Cart Checkout"
            closeAllSidebars();
            showCheckoutPopup();
        });
        
        // Page navigation
        const shopBtn = document.getElementById('shopBtn');
        const shoppingSection = document.getElementById('shoppingSection');
        const welcomeSection = document.querySelector('.welcome-section');
        const aboutSection = document.querySelector('.about-text');
        const supportSection = document.querySelector('.support-section');
        const groupsSection = document.querySelector('.groups-section');
        const aboutTitle = document.querySelector('.section-title');
        const pageTransition = document.getElementById('pageTransition');
        
        shopBtn.addEventListener('click', function(e) {
            e.preventDefault();
            pageTransition.classList.add('active');
            
            setTimeout(() => {
                const sectionsToHide = [welcomeSection, aboutSection, supportSection, groupsSection, aboutTitle];
                sectionsToHide.forEach(sec => {
                    if (sec) sec.style.display = 'none';
                });
                
                shoppingSection.style.display = 'block';
                pageTransition.classList.remove('active');
                
                const productCards = document.querySelectorAll('.product-card');
                productCards.forEach((card, index) => {
                    setTimeout(() => {
                        card.classList.add('animate-on-scroll');
                        void card.offsetHeight;
                        card.classList.add('animated');
                    }, 100 + (index * 100));
                });
                
                window.scrollTo(0, 0);
            }, 800);
        });

        // Price list toggle functionality
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('toggle-price-list-btn')) {
                e.preventDefault();
                const currentPriceList = e.target.nextElementSibling;
                const isCurrentlyVisible = currentPriceList.style.display === 'block';

                document.querySelectorAll('.price-list').forEach(list => list.style.display = 'none');
                document.querySelectorAll('.toggle-price-list-btn').forEach(btn => btn.textContent = 'Lihat Daftar Harga');

                if (!isCurrentlyVisible) {
                    currentPriceList.style.display = 'block';
                    e.target.textContent = 'Tutup';
                }
            }
        });
        
        // Add animation to buttons when clicked
        document.querySelectorAll('.btn, .group-btn, .support-card, .product-btn').forEach(button => {
            button.addEventListener('click', function() {
                this.style.transform = 'scale(0.95)';
                setTimeout(() => { this.style.transform = ''; }, 200);
            });
        });
        
        // Scroll animation for product cards
        function animateOnScroll() {
            const elements = document.querySelectorAll('.animate-on-scroll');
            const windowHeight = window.innerHeight;
            
            elements.forEach(element => {
                if (element.getBoundingClientRect().top < windowHeight - 150) {
                    element.classList.add('animated');
                }
            });
        }
        
        window.addEventListener('scroll', animateOnScroll);
        window.addEventListener('load', animateOnScroll);
        
        // Page load animation
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                document.body.style.overflow = 'hidden';
                setTimeout(() => { document.body.style.overflow = ''; }, 3000);
            }, 100);
        });
    </script>
</body>
</html>